import{u as p,a as g,r as _,o as k,c as f,b,d as r,e as o,f as t,t as n,F as h,g as v,j as c,i as w,k as m,l as P}from"./index-bafae1ff.js";import{H as B}from"./heart-5e676e29.js";const j={key:0,class:"max-w-4xl mx-auto"},I={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md"},N={class:"text-3xl font-kai text-primary dark:text-dark-primary mb-2 text-center"},S={class:"text-gray-600 dark:text-gray-400 text-center mb-6"},V={class:"mb-8"},C={class:"text-gray-700 dark:text-gray-300 leading-relaxed"},D={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={class:"text-lg font-kai mb-2"},H={class:"text-gray-700 dark:text-gray-300 mb-4 line-clamp-2"},z={class:"flex justify-between items-center"},E={class:"flex items-center text-gray-600 dark:text-gray-400"},L={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400"},M={key:1,class:"text-center py-10"},q={__name:"PoetDetail",setup(R){const x=p(),a=g(),s=_(null);k(async()=>{a.poems.length===0&&await a.fetchPoems(),a.poets.length===0&&await a.fetchPoets();const l=x.params.id;s.value=a.getPoetById(l)});const i=f(()=>s.value?a.getPoemsByPoetId(s.value.id):[]);return(l,e)=>{const u=b("router-link");return s.value?(r(),o("div",j,[t("div",I,[t("h1",N,n(s.value.name),1),t("p",S,n(s.value.dynasty)+"代诗人",1),t("div",V,[e[0]||(e[0]=t("h2",{class:"text-xl font-kai text-primary dark:text-dark-primary mb-4"},"生平简介",-1)),t("p",C,n(s.value.bio),1)]),t("div",null,[e[2]||(e[2]=t("h2",{class:"text-xl font-kai text-primary dark:text-dark-primary mb-4"},"作品列表",-1)),i.value.length>0?(r(),o("div",D,[(r(!0),o(h,null,v(i.value,d=>(r(),o("div",{key:d.id,class:"poem-card bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"},[t("h3",F,n(d.title),1),t("p",H,n(d.content.map(y=>y.sentence).join(" ")),1),t("div",z,[t("span",E,[c(w(B),{size:"16",class:"mr-1 text-red-500"}),m(" "+n(d.likes),1)]),c(u,{to:`/poem/${d.id}`,class:"btn btn-primary text-sm"},{default:P(()=>[...e[1]||(e[1]=[m(" 查看详情 ",-1)])]),_:1},8,["to"])])]))),128))])):(r(),o("div",L," 暂无作品 "))])])])):(r(),o("div",M,[...e[3]||(e[3]=[t("p",null,"加载中...",-1)])]))}}};export{q as default};
