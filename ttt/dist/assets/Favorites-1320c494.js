import{a as f,r as g,c as k,o as v,b,d as o,e as a,f as e,j as i,l as p,F as h,g as P,k as l,t as r,i as y,B as w}from"./index-a1124cd9.js";import{H as B}from"./heart-47223e59.js";const C={key:0,class:"text-center py-10"},F={key:1,class:"text-center py-10"},j={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},N={class:"text-xl font-kai mb-2"},S={class:"text-gray-600 dark:text-gray-400 mb-4"},V={class:"text-gray-700 dark:text-gray-300 mb-4 line-clamp-3"},z={class:"flex justify-between items-center"},H={class:"flex items-center"},L=["onClick"],$={class:"flex items-center text-gray-600 dark:text-gray-400"},T={__name:"Favorites",setup(D){const n=f(),d=g(!0),c=k(()=>n.getFavoritePoems()),_=m=>{n.unfavoritePoem(m)};return v(async()=>{n.poems.length===0&&await n.fetchPoems(),d.value=!1}),(m,t)=>{const u=b("router-link");return o(),a("div",null,[t[4]||(t[4]=e("h1",{class:"text-3xl font-kai text-primary dark:text-dark-primary mb-6"},"我的收藏",-1)),d.value?(o(),a("div",C,[...t[0]||(t[0]=[e("p",null,"加载中...",-1)])])):c.value.length===0?(o(),a("div",F,[t[2]||(t[2]=e("p",null,"您还没有收藏任何诗歌",-1)),i(u,{to:"/poems",class:"btn btn-primary mt-4"},{default:p(()=>[...t[1]||(t[1]=[l("浏览诗歌",-1)])]),_:1})])):(o(),a("div",j,[(o(!0),a(h,null,P(c.value,s=>(o(),a("div",{key:s.id,class:"poem-card bg-white dark:bg-gray-800"},[e("h2",N,r(s.title),1),e("p",S,r(s.dynasty)+" · "+r(s.author),1),e("p",V,r(s.content.map(x=>x.sentence).join(" ")),1),e("div",z,[e("div",H,[e("button",{onClick:x=>_(s.id),class:"mr-4 focus:outline-none text-yellow-500"},[i(y(w),{size:"18"})],8,L),e("span",$,[i(y(B),{size:"18",class:"mr-1 text-red-500"}),l(" "+r(s.likes),1)])]),i(u,{to:`/poem/${s.id}`,class:"btn btn-primary text-sm"},{default:p(()=>[...t[3]||(t[3]=[l(" 查看详情 ",-1)])]),_:1},8,["to"])])]))),128))]))])}}};export{T as default};
